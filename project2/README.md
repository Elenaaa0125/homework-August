# Project2：数字水印系统实验报告

## 1. 实验目标
实现基于DCT变换的不可见水印系统，测试抗攻击能力

## 2. 核心原理
### 2.1 DCT变换公式
```math
F(u,v) = \sum_{x=0}^{7}\sum_{y=0}^{7}f(x,y)\cdot\cos\frac{(2x+1)u\pi}{16}\cdot\cos\frac{(2y+1)v\pi}{16}
```
### 2.2 水印嵌入位置
选择中频系数(5,2)位置进行修改：
```math
F'(5,2) = F(5,2) + \alpha \cdot (2w_{ij}-1) \cdot F(0,0)
```

## 3. 实验步骤

### 3.1 代码结构
```python
class DCTWatermark:
    ├── embed()          # 嵌入水印
    ├── extract()        # 提取水印 
    └── _get_dct_blocks() # DCT分块处理
```
## 3.2 操作流程

1. **准备测试图像**：
   - 宿主图像：`lena.jpg`  
   - 水印图像：`watermark.png`（64×64黑白二值图）

2. **执行命令**：
```bash
python watermark_system.py
```

## 4. 实验结果与分析

### 4.1 水印效果可视化
| 图像类型 | 示例图像 | 说明 |
|----------|----------|------|
| **原始宿主图像** | ![原始图像](pexels-clarissa-roley-139936449-33334417.jpg) | 512×512灰度图 |
| **水印图案** | ![水印](watermark_square.png) | 64×64黑白二值图 |
| **含水印图像** | ![含水印](watermarked_lena.jpg) | PSNR=38.2dB |
| **提取的水印** | ![提取结果](extracted_watermark.jpg) | 无攻击时相似度100% |



### 4.2 鲁棒性测试数据
#### 定量分析
| 攻击类型       | 相似度  |
|----------------|---------|
| **旋转10度**   | 69.95%  | 
| **缩放0.8倍**  | 50.00%  | 
| **裁剪20%**    | 14.06%  | 
| **高斯噪声**   | 14.06%  | 
| **对比度调整** | 14.06%  | 
| **JPEG压缩**   | 14.06%  | 
#### 关键指标
```python
# 平均抗攻击能力计算
mean_score = np.mean([0.6995, 0.5000, 0.1406, 0.1406, 0.1406, 0.1406])  # = 29.58%
